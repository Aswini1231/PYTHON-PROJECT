{% extends "base.html" %}
{% block content %}
    <h2 class="text-2xl font-bold mb-4">Teacher Dashboard</h2>
    <h3 class="text-xl font-semibold mb-2">OD Requests</h3>
    <table class="w-full border">
        <thead>
            <tr class="bg-gray-200">
                <th class="p-2">Name</th>
                <th class="p-2">Phone</th>
                <th class="p-2">Place</th>
                <th class="p-2">Event Date</th>
                <th class="p-2">Status</th>
                <th class="p-2">Submitted At</th>
                <th class="p-2">Proof</th>
                <th class="p-2">Action</th>
            </tr>
        </thead>
        <tbody>
            {% for req in od_requests %}
                <tr>
                    <td class="p-2">{{ req[2] }}</td>
                    <td class="p-2">{{ req[3] }}</td>
                    <td class="p-2">{{ req[4] }}</td>
                    <td class="p-2">{{ req[9] }}</td>
                    <td class="p-2">{{ req[7] }}</td>
                    <td class="p-2">{{ req[8] }}</td>
                    <td class="p-2">
                        {% if req[5] %}
                            <a href="/{{ req[5] }}" target="_blank" class="text-blue-600 hover:underline">Registration</a>
                        {% endif %}
                        {% if req[6] %}
                            | <a href="/{{ req[6] }}" target="_blank" class="text-blue-600 hover:underline">Participation</a>
                        {% endif %}
                    </td>
                    <td class="p-2">
                        {% if req[7] == 'Pending' %}
                            <a href="{{ url_for('manage_od', od_id=req[0]) }}" class="bg-blue-600 text-white px-2 py-1 rounded hover:bg-blue-700">Manage</a>
                        {% else %}
                            {{ req[7] }}
                        {% endif %}
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}